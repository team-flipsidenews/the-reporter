<section class="gh-container--section{{#match themeSection "light-gray"}} gh-section--theme-light-gray{{/match}}{{#match themeSection "black"}} gh-section--theme-black{{/match}}">
    <div class="gh-container">
        {{#if tagName}}
            {{#get "tags" filter="slug:{{tagName}}"}}
                {{#foreach tags}}
                    <h2 class="gh-posts-section__title">
                        <a href="{{url}}" class="gh-posts-section__title-link">{{name}}</a>
                    </h2>
                {{/foreach}}
            {{/get}}
        {{/if}}

        <div class="gh-hero-wrapper--featured-type-17-2">
            {{#if tagName}}
                {{#get "posts" limit='10' include="authors,tags" filter="tag:{{tagName}}"}}
                    {{#match posts.length "=" 10}}
                        {{#foreach posts}}

                            {{#if @first}}
                                <div class="gh-hero-inner-wrapper--featured-type-17-2">
                            {{/if}}

                            <article class="{{post_class}} gh-featured-post--wrapper">
                                <div class="gh-featured-post--column">
                                    <div class="gh-card-image-wrapper">
                                        {{#if feature_image}}
                                            <a class="gh-card-image-wrapper-link" href="{{url}}">
                                            <picture class="gh-card-picture">
                                                <source 
                                                    srcset="
                                                    {{img_url feature_image size="100" format="webp"}} 100w,
                                                    {{img_url feature_image size="200" format="webp"}} 200w,
                                                    {{img_url feature_image size="300" format="webp"}} 300w,
                                                    {{img_url feature_image size="500" format="webp"}} 500w,
                                                    {{img_url feature_image size="600" format="webp"}} 600w"
                                                    sizes="(max-width: 550px) 96vw, (max-width: 650px) 45vw, (max-width: 1000px) 30vw, (max-width: 1480px) 17vw, (max-width: 100vw) 261px"
                                                    type="image/webp"
                                                >
                                                <img
                                                    srcset="
                                                    {{img_url feature_image size="100"}} 100w,
                                                    {{img_url feature_image size="200"}} 200w,
                                                    {{img_url feature_image size="300"}} 300w,
                                                    {{img_url feature_image size="500"}} 500w,
                                                    {{img_url feature_image size="600"}} 600w"
                                                    sizes="(max-width: 550px) 96vw, (max-width: 650px) 45vw, (max-width: 1000px) 30vw, (max-width: 1480px) 17vw, (max-width: 100vw) 261px"
                                                    src="{{img_url feature_image size="600"}}"
                                                    alt="{{#if feature_image_alt}}{{feature_image_alt}}{{else}}{{title}} post image{{/if}}"
                                                    class="gh-card-image"
                                                    loading="lazy"
                                                >
                                            </picture>
                                            </a>
                                        {{else}}
                                            <a class="gh-card-image-wrapper-link--noImage" href="{{url}}" aria-label="{{title}} post link">
                                                {{#if @site.logo}}
                                                    <img src="{{img_url @site.logo}}" alt="{{@site.title}} icon" class="gh-card-image-wrapper-link--noImage-logo">
                                                {{else}}
                                                    <span class="gh-card-image-wrapper-link--noImage-name">{{@site.title}}</span>
                                                {{/if}}
                                            </a>
                                        {{/if}}
                                    </div>
                                    <div class="gh-featured-post__content-wrapper--type-17">
                                        <div class="gh-featured-post-number">
                                            {{@number}}
                                        </div>
                                        <div class="gh-featured-post__content">
                                            {{>post-tags}}  
                                            <a class="gh-card-title-link" href="{{url}}">
                                            <h2 class="gh-featured-post__title">{{title}}</h2>
                                            </a>
                                            {{>post-info}}
                                        </div>
                                    </div>
                                </div>
                            </article>

                            {{#if @last}}
                                </div>
                            {{/if}}

                        {{/foreach}}
                    {{else}}
                        <div class="gh-posts--not-enought">{{t "not enough posts"}}</div>
                    {{/match}}
                {{/get}}
            {{else}}
                {{#get "posts" limit='10' include="authors,tags" filter="featured:true" as |featuredPosts|}}
                    {{#match featuredPosts.length "=" 10}}
                        {{#foreach featuredPosts}}

                            {{#if @first}}
                                <div class="gh-hero-inner-wrapper--featured-type-17-2">
                            {{/if}}

                            <article class="{{post_class}} gh-featured-post--wrapper">
                                <div class="gh-featured-post--column">
                                    <div class="gh-card-image-wrapper">
                                        {{#if feature_image}}
                                            <a class="gh-card-image-wrapper-link" href="{{url}}">
                                            <picture class="gh-card-picture">
                                                <source 
                                                    srcset="
                                                    {{img_url feature_image size="100" format="webp"}} 100w,
                                                    {{img_url feature_image size="200" format="webp"}} 200w,
                                                    {{img_url feature_image size="300" format="webp"}} 300w,
                                                    {{img_url feature_image size="500" format="webp"}} 500w,
                                                    {{img_url feature_image size="600" format="webp"}} 600w,
                                                    {{img_url feature_image size="800" format="webp"}} 800w"
                                                    sizes="(max-width: 550px) 96vw, (max-width: 650px) 45vw, (max-width: 1000px) 30vw, (max-width: 1480px) 17vw, (max-width: 100vw) 261px"
                                                    type="image/webp"
                                                >
                                                <img
                                                    srcset="
                                                    {{img_url feature_image size="100"}} 100w,
                                                    {{img_url feature_image size="200"}} 200w,
                                                    {{img_url feature_image size="300"}} 300w,
                                                    {{img_url feature_image size="500"}} 500w,
                                                    {{img_url feature_image size="600"}} 600w,
                                                    {{img_url feature_image size="800"}} 800w"
                                                    sizes="(max-width: 550px) 96vw, (max-width: 650px) 45vw, (max-width: 1000px) 30vw, (max-width: 1480px) 17vw, (max-width: 100vw) 261px"
                                                    src="{{img_url feature_image size="600"}}"
                                                    alt="{{#if feature_image_alt}}{{feature_image_alt}}{{else}}{{title}} post image{{/if}}"
                                                    class="gh-card-image"
                                                >
                                            </picture>
                                            </a>
                                        {{else}}
                                            <a class="gh-card-image-wrapper-link--noImage" href="{{url}}" aria-label="{{title}} post link">
                                                {{#if @site.logo}}
                                                    <img src="{{img_url @site.logo}}" alt="{{@site.title}} icon" class="gh-card-image-wrapper-link--noImage-logo">
                                                {{else}}
                                                    <span class="gh-card-image-wrapper-link--noImage-name">{{@site.title}}</span>
                                                {{/if}}
                                            </a>
                                        {{/if}}
                                    </div>
                                    <div class="gh-featured-post__content-wrapper--type-17">
                                        <div class="gh-featured-post-number">
                                            {{@number}}
                                        </div>
                                        <div class="gh-featured-post__content">
                                            {{>post-tags}}  
                                            <a class="gh-card-title-link" href="{{url}}">
                                            <h2 class="gh-featured-post__title">{{title}}</h2>
                                            </a>
                                            {{>post-info}}
                                        </div>
                                    </div>
                                </div>
                            </article>

                            {{#if @last}}
                                </div>
                            {{/if}}

                        {{/foreach}}
                    {{else}}
                        <div class="gh-posts--not-enought">{{t "not enough posts"}}</div>
                    {{/match}}
                {{/get}}
            {{/if}}  
        </div>
    </div>
</section>