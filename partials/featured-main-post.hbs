{{!--
Re-usable card for linking to posts
--}}

<article class="{{post_class}} {{classNames}} {{#unless @last}}gh-featured-main-post--border-bottom{{/unless}}">
    <div class="gh-card-image-wrapper">
          {{#if feature_image}}
            <a class="gh-card-image-wrapper-link" href="{{url}}" aria-label="{{t "post image"}}">
              <picture class="gh-card-picture">
                {{#match type "1"}}
                  <source 
                    srcset="
                    {{img_url feature_image size="300" format="webp"}} 300w,
                    {{img_url feature_image size="500" format="webp"}} 500w,
                    {{img_url feature_image size="600" format="webp"}} 600w,
                    {{img_url feature_image size="800" format="webp"}} 800w,
                    {{img_url feature_image size="1000" format="webp"}} 1000w,
                    {{img_url feature_image size="1200" format="webp"}} 1200w,
                    {{img_url feature_image size="1600" format="webp"}} 1600w"
                    sizes="(max-width: 750px) 94vw, (min-width: 751px) 66vw, (min-width: 1101px) 40vw, (min-width: 1448px) 688px"
                    type="image/webp"
                  >
                  <img
                    srcset="
                    {{img_url feature_image size="300"}} 300w,
                    {{img_url feature_image size="500"}} 500w,
                    {{img_url feature_image size="600"}} 600w,
                    {{img_url feature_image size="800"}} 800w,
                    {{img_url feature_image size="1000"}} 1000w,
                    {{img_url feature_image size="1200"}} 1200w,
                    {{img_url feature_image size="1600"}} 1600w"
                    sizes="(max-width: 750px) 94vw, (min-width: 751px) 66vw, (min-width: 1101px) 40vw, (min-width: 1448px) 688px"
                    src="{{img_url feature_image size="1600"}}"
                    alt="{{#if feature_image_alt}}{{feature_image_alt}}{{else}}{{title}} {{t "post image"}}{{/if}}"
                    class="gh-card-image"
                    {{#match lazy "=" "true"}}loading="lazy"{{/match}}
                  >
                {{else match type "4"}}
                  <source 
                      srcset="
                      {{img_url feature_image size="300" format="webp"}} 300w,
                      {{img_url feature_image size="500" format="webp"}} 500w,
                      {{img_url feature_image size="600" format="webp"}} 600w,
                      {{img_url feature_image size="800" format="webp"}} 800w,
                      {{img_url feature_image size="1000" format="webp"}} 1000w,
                      {{img_url feature_image size="1200" format="webp"}} 1200w,
                      {{img_url feature_image size="1600" format="webp"}} 1600w"
                      sizes="(max-width: 750px) 94vw, (min-width: 751px) 64vw, (min-width: 1101px) 48vw, (min-width: 1481px) 688px"
                      type="image/webp"
                    >
                    <img
                      srcset="
                      {{img_url feature_image size="300"}} 300w,
                      {{img_url feature_image size="500"}} 500w,
                      {{img_url feature_image size="600"}} 600w,
                      {{img_url feature_image size="800"}} 800w,
                      {{img_url feature_image size="1000"}} 1000w,
                      {{img_url feature_image size="1200"}} 1200w,
                      {{img_url feature_image size="1600"}} 1600w"
                      sizes="(max-width: 750px) 94vw, (min-width: 751px) 64vw, (min-width: 1101px) 48vw, (min-width: 1481px) 688px"
                      src="{{img_url feature_image size="1600"}}"
                      alt="{{#if feature_image_alt}}{{feature_image_alt}}{{else}}{{title}} {{t "post image"}}{{/if}}"
                      class="gh-card-image"
                      {{#match lazy "=" "true"}}loading="lazy"{{/match}}
                    >
                {{else match type "6"}}
                  <source 
                      srcset="
                      {{img_url feature_image size="300" format="webp"}} 300w,
                      {{img_url feature_image size="500" format="webp"}} 500w,
                      {{img_url feature_image size="600" format="webp"}} 600w,
                      {{img_url feature_image size="800" format="webp"}} 800w,
                      {{img_url feature_image size="1000" format="webp"}} 1000w,
                      {{img_url feature_image size="1200" format="webp"}} 1200w,
                      {{img_url feature_image size="1600" format="webp"}} 1600w"
                      sizes="(max-width: 700px) 93vw, (min-width: 701px) 70vw, (min-width: 1101px) 45vw, (min-width: 1481px) 676px"
                      type="image/webp"
                    >
                    <img
                      srcset="
                      {{img_url feature_image size="300"}} 300w,
                      {{img_url feature_image size="500"}} 500w,
                      {{img_url feature_image size="600"}} 600w,
                      {{img_url feature_image size="800"}} 800w,
                      {{img_url feature_image size="1000"}} 1000w,
                      {{img_url feature_image size="1200"}} 1200w,
                      {{img_url feature_image size="1600"}} 1600w"
                      sizes="(max-width: 700px) 93vw, (min-width: 701px) 70vw, (min-width: 1101px) 45vw, (min-width: 1481px) 676px"
                      src="{{img_url feature_image size="1600"}}"
                      alt="{{#if feature_image_alt}}{{feature_image_alt}}{{else}}{{title}} {{t "post image"}}{{/if}}"
                      class="gh-card-image"
                      {{#match lazy "=" "true"}}loading="lazy"{{/match}}
                    >
                {{else match type "10-1"}}
                  <source 
                      srcset="
                      {{img_url feature_image size="300" format="webp"}} 300w,
                      {{img_url feature_image size="500" format="webp"}} 500w,
                      {{img_url feature_image size="600" format="webp"}} 600w,
                      {{img_url feature_image size="800" format="webp"}} 800w,
                      {{img_url feature_image size="1000" format="webp"}} 1000w,
                      {{img_url feature_image size="1200" format="webp"}} 1200w,
                      {{img_url feature_image size="1600" format="webp"}} 1600w"
                      sizes="(max-width: 600px) 93vw, (max-width: 1480px) 46vw, (min-width: 1481px) 688px"
                      type="image/webp"
                    >
                    <img
                      srcset="
                      {{img_url feature_image size="300"}} 300w,
                      {{img_url feature_image size="500"}} 500w,
                      {{img_url feature_image size="600"}} 600w,
                      {{img_url feature_image size="800"}} 800w,
                      {{img_url feature_image size="1000"}} 1000w,
                      {{img_url feature_image size="1200"}} 1200w,
                      {{img_url feature_image size="1600"}} 1600w"
                      sizes="(max-width: 600px) 93vw, (max-width: 1480px) 46vw, (min-width: 1481px) 688px"
                      src="{{img_url feature_image size="1600"}}"
                      alt="{{#if feature_image_alt}}{{feature_image_alt}}{{else}}{{title}} {{t "post image"}}{{/if}}"
                      class="gh-card-image"
                      {{#match lazy "=" "true"}}loading="lazy"{{/match}}
                    >
                {{else match type "10-2"}}
                  <source 
                      srcset="
                      {{img_url feature_image size="100" format="webp"}} 100w,
                      {{img_url feature_image size="200" format="webp"}} 200w,
                      {{img_url feature_image size="300" format="webp"}} 300w,
                      {{img_url feature_image size="500" format="webp"}} 500w,
                      {{img_url feature_image size="600" format="webp"}} 600w,
                      {{img_url feature_image size="800" format="webp"}} 800w,
                      {{img_url feature_image size="1000" format="webp"}} 1000w"
                      sizes="(max-width: 400px) 90px, (max-width: 750px) 28vw, (max-width: 1480px) 30vw, (max-width: 100vw) 450px"
                      type="image/webp"
                    >
                    <img
                      srcset="
                      {{img_url feature_image size="100"}} 100w,
                      {{img_url feature_image size="200"}} 200w,
                      {{img_url feature_image size="300"}} 300w,
                      {{img_url feature_image size="500"}} 500w,
                      {{img_url feature_image size="600"}} 600w,
                      {{img_url feature_image size="800"}} 800w,
                      {{img_url feature_image size="1000"}} 1000w"
                      sizes="(max-width: 400px) 90px, (max-width: 750px) 28vw, (max-width: 1480px) 30vw, (max-width: 100vw) 450px"
                      src="{{img_url feature_image size="1000"}}"
                      alt="{{#if feature_image_alt}}{{feature_image_alt}}{{else}}{{title}} {{t "post image"}}{{/if}}"
                      class="gh-card-image"
                      {{#match lazy "=" "true"}}loading="lazy"{{/match}}
                    >
                {{else match type "13"}}
                  <source 
                      srcset="
                      {{img_url feature_image size="300" format="webp"}} 300w,
                      {{img_url feature_image size="500" format="webp"}} 500w,
                      {{img_url feature_image size="600" format="webp"}} 600w,
                      {{img_url feature_image size="800" format="webp"}} 800w,
                      {{img_url feature_image size="1000" format="webp"}} 1000w,
                      {{img_url feature_image size="1200" format="webp"}} 1200w,
                      {{img_url feature_image size="1600" format="webp"}} 1600w"
                      sizes="(max-width: 550px) 96vw, (max-width: 800px) 58vw, (max-width: 1480px) 43vw, (max-width: 100vw) 663px"
                      type="image/webp"
                    >
                    <img
                      srcset="
                      {{img_url feature_image size="300"}} 300w,
                      {{img_url feature_image size="500"}} 500w,
                      {{img_url feature_image size="600"}} 600w,
                      {{img_url feature_image size="800"}} 800w,
                      {{img_url feature_image size="1000"}} 1000w,
                      {{img_url feature_image size="1200"}} 1200w,
                      {{img_url feature_image size="1600"}} 1600w"
                      sizes="(max-width: 400px) 90px, (max-width: 750px) 28vw, (max-width: 1480px) 30vw, (max-width: 100vw) 450px"
                      src="{{img_url feature_image size="1600"}}"
                      alt="{{#if feature_image_alt}}{{feature_image_alt}}{{else}}{{title}} {{t "post image"}}{{/if}}"
                      class="gh-card-image"
                      {{#match lazy "=" "true"}}loading="lazy"{{/match}}
                    >
                {{else match type "14"}}
                  <source 
                      srcset="
                      {{img_url feature_image size="300" format="webp"}} 300w,
                      {{img_url feature_image size="500" format="webp"}} 500w,
                      {{img_url feature_image size="600" format="webp"}} 600w,
                      {{img_url feature_image size="800" format="webp"}} 800w,
                      {{img_url feature_image size="1000" format="webp"}} 1000w,
                      {{img_url feature_image size="1200" format="webp"}} 1200w,
                      {{img_url feature_image size="1600" format="webp"}} 1600w"
                      sizes="(max-width: 750px) 94vw, (max-width: 1000px) 56vw, (max-width: 1480px) 46vw, (max-width: 100vw) 688px"
                      type="image/webp"
                    >
                    <img
                      srcset="
                      {{img_url feature_image size="300"}} 300w,
                      {{img_url feature_image size="500"}} 500w,
                      {{img_url feature_image size="600"}} 600w,
                      {{img_url feature_image size="800"}} 800w,
                      {{img_url feature_image size="1000"}} 1000w,
                      {{img_url feature_image size="1200"}} 1200w,
                      {{img_url feature_image size="1600"}} 1600w"
                      sizes="(max-width: 750px) 94vw, (max-width: 1000px) 56vw, (max-width: 1480px) 46vw, (max-width: 100vw) 688px"
                      src="{{img_url feature_image size="1600"}}"
                      alt="{{#if feature_image_alt}}{{feature_image_alt}}{{else}}{{title}} {{t "post image"}}{{/if}}"
                      class="gh-card-image"
                      {{#match lazy "=" "true"}}loading="lazy"{{/match}}
                    >
                {{else}}
                {{/match}}
              </picture>
            </a>
          {{else}}
            <a class="gh-card-image-wrapper-link--noImage" href="{{url}}" aria-label="{{title}} {{t "post image"}}">
                {{#if @site.logo}}
                    <img src="{{img_url @site.logo}}" alt="{{@site.title}} icon" {{#match lazy "=" "true"}}loading="lazy"{{/match}} class="gh-card-image-wrapper-link--noImage-logo">
                {{else}}
                    <span class="gh-card-image-wrapper-link--noImage-name">{{@site.title}}</span>
                {{/if}}
            </a>
          {{/if}}
    </div>
    <div class="gh-featured-main-post__content">
        {{>post-tags}}
        <a class="gh-card-title-link" href="{{url}}" aria-label="{{title}}">
          <h2 class="gh-featured-main-post__title">{{title}}</h2>
        </a>
        {{#if custom_excerpt}}
        <p class="gh-featured-main-post__excerpt">{{custom_excerpt}}</p>
        {{/if}}
        {{>post-info}}
    </div>
</article>